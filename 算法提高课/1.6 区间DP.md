# 区间 DP

经典的区间 DP：[282. 石子合并](https://www.acwing.com/problem/content/description/284/)

两种书写方式
- 迭代式：适用于一维 dp 数组，套路固定如下：
    - 枚举区间长度
    - 枚举左端点，需保证在右端点不越界
    - 枚举区间分割点
- 记忆化搜索：适用于多维 dp 数组

[1068. 环形石子合并](https://www.acwing.com/problem/content/1070/)

朴素做法是：
- 把环形队列拆成 n 条单链，枚举每一条
- 答案就是所有单链中的最小值
- 时间复杂度是 n^4 = 200^4 会超时

经典的处理环的做法是：破环成链，把环变成长度为 2n 的链
- 可以在这个长度是 2n 的链上，使用经典的石子合并
- 答案只需枚举所有长度是 n 的链
- 时间复杂度就是  2n^3 = 400^3

[320. 能量项链](https://www.acwing.com/problem/content/322/)

也是一个环状 dp，需要破环成链，类似上一个题目

先考虑线性怎么做

状态表示 f[i][j]：
- 集合：所有将 i 到 j 这段合并成一个珠子的方式
- 属性：最大值

转换一下表示方式，例如：2 3 5 10，转换成：2 3 5 10 2

状态计算：
- f[i][j] = max(f[i][j], f[i][k] + f[k][j] + a[i] * a[k] * a[j]) i < k < j

然后破环成链计算答案

[1069. 凸多边形的划分](https://www.acwing.com/problem/content/1071/)

这个题目中，虽然是划分凸多边形，但不是一个环形 dp，可能是因为对称性的原因，只需要在首尾之间调点划分即可

状态表示 f[i][j]：
- 集合：所有将边 (i,i+1) (i+1,i+2), ..., (j-1,j) (j,i) 组成的这个多边形划分成三角形的方案
- 属性：最小值

状态计算：
- 考虑每一条边所属的三角形：从边 (1,n) 开始，在 (1,n) 中选一个点，组成一个包含边 (1,n) 的三角形，然后再去处理剩余的两部分即可
- `f[i][j] = f[i][k] + f[k][j] + w[i]*w[k]*w[j]`

因为数值很大，需要写一个高精度

[479. 加分二叉树](https://www.acwing.com/problem/content/481/)

状态表示 f[i][j]：
- 集合：所有中序遍历是 [i, j] 这段数字的二叉树集合 
- 属性：最大值

状态计算：
- 根据根节点进行划分：[i, k-1], k, [k+1, j]
- `f[i][j] = w[k] + f[i][k-1] * f[k+1][j]`

如何求得最大分值对应的二叉树呢
- 考虑记录每次的决策：根节点是谁
- 使用一个对应的二维数组存储这个根节点

[321. 棋盘分割](https://www.acwing.com/problem/content/323/)

二维的区间 DP

简化题目要求：最小化均方差，等价于最小化最小平方和（👀 视频中的推导过程）

不化简也能直接做

状态表示 f[x1][y1][x2][y2][k]：
- 集合：将子矩阵 (x1,y1)(x2,y2) 切分成 k 部分的所有方案
- 属性：均方差的最小值

状态计算：
- 横切：x2-x1+1 种切法
- 纵切：y2-y1+1 种切法

使用记忆话搜索简化代码













